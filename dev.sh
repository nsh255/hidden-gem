#!/bin/bash
# Script para facilitar el desarrollo

# Verificar si existe el archivo placeholder
if [ ! -f "./frontend/src/assets/images/placeholder.jpg" ]; then
  echo "Creando imagen placeholder..."
  mkdir -p ./frontend/src/assets/images
  # Descargar una imagen de placeholder o crear un pequeÃ±o archivo base64
  echo "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACoCAMAAABt9SM9AAAAwFBMVEX////19fXspgCuqJwAAADuqAD1+Pj48+bvrhj//vjsoQDqpAD8+fL59OvtpwDtqwD99973wE348N7tqAD99eb858n++u3726f31Y/+/fj4yXD204j0wU396sv34LT637X31pT0wVH46tT//PD748D1z4P34bj++OzysC34y3jxvEnyukzzvlr0x2nxtzjwsibxuELzw2HsoQf43K/1vSj3wjPxrAD97NDzvlT1u0LysS/2vAD1wVb3xkP1yHdUZbZTAAAJpUlEQVR4nO2dZ3viOhCGbWQDxhgXeqihAwFC772b///DjjGQLF6NDHFZnTzflxywrddTNZqRolhYWFhYWFhYWFhYWFhYWFhYWFhYWFj8J1jE9/fzk6Tz/H4/vsm77/8KRXrcGcZuq1fy/LKiKEq55LVavWE8epnk3ctLJ1kcNkuK1/JcxStzFUXpDscXPwhNauvZ1ywrO/SY/4Taq9f1u7Mw9vK+mEtkcRjXkNmohcCv9wY3P2w25n4ZWUpgFnVKntf16/3vPK7jMqmEoaJXr8gIyA/TvK/vAijGnpfVYFyv1uwN874+4yTzfr0K8XGCDJlP876JFIZ1gg1mZejWm0dXMbAiQ1FabkZaqc2bJp1RONfpjPrTVDOOtY9cxfLVe+KrOIlrzOGz/8GHQGvG/f7wpdMZDh+fNgHRg5zZctPRKt6cPvx4rDR8ivs9MgZxFaXVm+oYzUWipCVF0dPjm8fJh1Lv1Z8E/qBXejRBXPMoC9Urd/uHPM9hc9RSFKXVe0YOwXDIcj5UfRofqSVVGspDOzTN6JZVz+02K03NdJTL9XpgOXLfEYNzPL3THIKNXDl1BI6FdmEJg3R0gphN/WnojqjlOEHQWd+p0YbZSvCUfLUTgveWrluQjTDJLJ72S45b8rvH5XUcJ6MgWId2I3iy3Wp1Onuo2FJKdOh7XVXtd4x19XuMZ2+ZPQODYCv8VNfUGtZP/s3IeufW4Rl1/daBzarOxpdBq3SXPPRDxH7oFMPvE61iKu8lf0uxn8lDMk3DZ/JA1ynP9XRdMSKLemjpeVdUKizNjEgVBDLJxypKzzGcZn1FDNWR1bxD+oS+EvRmZEUnmNm5GtmxDNLskDXUc1ukEU3nWDXeNRkQMpwgv83SEPgRcb7FxCBZoYRFyqUOTMYQebH5LJ6wRpNrDYMrYb9JFldUHV00vKYzhVK+yw/gV3TJAoEnKQPXYLEoFZrXDBIwXaRkMiB00wFZCu17T/pRMV1LfCWGl2z6AwS+F2RRWsEZFlczxGCxsDkAXkNGvOMAnnTLkVDl+YMsZ0i3EDYYbG00jWRIrMTmhlgVVwJZpQbE97n9B+Z3wJGaI1lSPZgMtTpzfbXMMMMJDFXH4WkdSPkGl2JUxRXJcjxHttT6hMOV5BbxRctVilLKFhx6lXoOCVvCkQqS5YqPQmVCrlgFecpXcsbksJZVWm+Q4RMsrshVpfDzBpayVBXnp/qBcx+HEuV+KVLLwYJUcUWuIsOXTBFnxYhkdlpvkr4ARyX82YmXhQ3Vll0hl8OG+Oa+2K2zJpMTWRIznmtUvQMHgMnKnVjwgSiCj5GZccFZUdDcjPzFvAUFPICzgrHK/sClpYE9Q2uUMhfZMRDGRKFWNSWfJ26ugE8TkOXsqxUOsEuIWN5v8fMsxcwsVHQKgGOgOFiykCnAYUiXZMEECVeXuaYXfPLNh+TRDyAaTKFFdkWpOdAcQrJSriA4kAsLpoTCBSTHg7YF+5AqbCyOQHwLLKICzkoDkkVXZFNAlhN81DwkRDpUIFbBBzRB1vYSQHu9VXAYGWPyTU4QZQuvCSsJQvGYPgglCxe8kCz48JuQd6M0jOYABHQxaawrsBcgzfbMliPNFTQVB5ZBdAjXsQOmMIW8I0ORRXfBuCZBmm2X8NsJiiqaDKcNNKy4UQjLwJqwoxILmXTQBPnCChZVVpZzARQYnADVhDEMbWiP0vN9OCZlC6hCPWkRk0hZIBUWgB6v4kAUwH0cD2ZZMtGrk1YCMEpXAgM/N0jR4KTI4swOnuN+K605QTCOAHc0DZGFFpxuRzCdtWBnuWccAZLiCUNwHZNXzHJ4bOEu0cPCFc2t/GqKakYPMQUcFy3CIyuVQfXrq0TXzE+mIL9xZHU2u2fVFJZAh1kp2tFLRVNhHcaqOcWdKDWN7nSAHs3oK5MucxTaCMZtPTCgAFmoH5IlMLBBXgGDK5OzcpU2BNXg4QdDRdbkgE2kUHCF015TAV9m9gMzkQF/q4trmBYzkgGiQzADolUdDYK7F0q1fYWaAoHKcQ/IEqbCPAdGgIxHNu6GtCrZlVZJkYZxaVCpAWdUBEzRcRXdYIaXfnZAq+wnYzxZQLPm7jIlUoZD9kNd8DF5uQK1e4qZoL+CZGHXr4uW+BvbG7qeXGCuAAd96idbG+/4yozbZAyy8iGryzl+Q8JFbjDIl3jXVVq/bHWuJDdLKXmVQx+yB7bMiAUcrO9S1+KwVIBkyfpunOKKbYpRD6QK2F2KKpzhfNcXEFmykYU2lKvTD8OHDbIk7CuI/MdLKd8FfJbsyIKjlN9wxgcMJkumfmhQYr90Z/0AbZ+SsRpcBnQkDcn4Qh+yEIcZFgBLc8GDVJVPrDUhWeL+uQdsFDL2n0ahhLciTqoCO9o3YVfQrDDTK8DKAu5/lCnrgkPDnNO+x43J2GRggfbwLqPBzPqiCQVY0NpP0iEMzuiI8wDLsxCr2LmDkRCaFGN7s9zVQzPLTIYWmMwFEG3AUAWKwqGh3cDGY1P3rYA7QZWFHv/TYpTQcxsMMVgMpTI9OWG0aaEnSriGJeYKbGrb48WwSZnZBQEH32YQgUWCfXsHM9uE3ZoQ/1yIrkQ/U6iO9Z4ItHdW2gLbiYoUWTu7IlcdTQ86a1r3jc2uFLAh5YSu29feTZmA2dqnG/hb3RvdI4SdIvMIKLGnJjqjsrrZRQTD7dZUJcPWjtwPU1/Zv3nz6Km/AruC0kf9jZ6bXFdzvXoQhm0K2p7Ybr6GmZtw3Oq09E6JFz+C1F5vc0zWPIxXbzU7Yb/fXn2zj9hbkdy1S1s3+MV9U5SXtF9Wmq3tLzx4s/X4+BFmGPuTffKzHjF/g89+LCedLrtnrXEZnWg2SzZfy8rxUhZ2d04n5ZfVx5yq2axt/gu+i2NZnHQ6ncZq9RKG4VNj9fq6ihrdRqOS+yDMm5OE/HMkzy0qKQCGOWkKN9R+Yb5/cCjl9uf22/lmMTl7lj+dGY33s9/5e/XPNmzshHfJSv/u/7yXHl/PZu9ns+lqnUvhYGFhYWFhYWFhYWFhYWFhYWFhYWFhcRr+AXCFoJ+m8+TrAAAAAElFTkSuQmCC" | base64 -d > ./frontend/src/assets/images/placeholder.jpg
fi

# Verificar si existe el archivo proxy.conf.json
if [ ! -f "./frontend/proxy.conf.json" ]; then
  echo "Creando proxy.conf.json..."
  echo '{
    "/api": {
      "target": "http://backend:8000",
      "secure": false,
      "changeOrigin": true,
      "logLevel": "debug"
    }
  }' > ./frontend/proxy.conf.json
fi

# Iniciar los contenedores en modo desarrollo
docker-compose up $@
